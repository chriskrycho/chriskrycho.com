@import "base";
@import "mixins";

@media only screen and (max-width: 920px) {
    #site-header {
        .hgroup {
            @include flex(1 100%);
        }

        nav {
            @include flex(1 0 100%);
            text-align: left;
            background: linear-gradient(to right, $light_blue -50%, $dark_blue 25%, $dark_blue 75%, $light_blue 150%);
            padding: {
                top: 0.465rem;
                bottom: 0.391rem;
            }
            border: {
                top: 1px solid $light_gray;
                bottom: 1px solid $light_gray;
            }
            margin: {
                top: $fs3;
                left: 0;
                right: 0;
            }

            ul {
                margin: {
                    left: auto;
                    right: auto;
                }
                width: 30.814rem;
            }

            .divider { color: $white; }

            a:link, a:visited {
                color: $pale_blue;
            }

            a:hover {
                color: $white;
                border: none;
            }
        }

        #section-head {
            padding-left: 0;
            h3 {
                width: 30.814rem;
                margin: {
                    left: auto;
                    right: auto;
                }

            }
        }
    }

    body::before {
        background: linear-gradient(to right, $light_blue -15%, $dark_blue 50%, $light_blue 115%);
    }


    article {
        margin: {
            left: auto;
            right: auto;
        }

        &.archive, header, .meta {
            max-width: 30.814rem;
        }

        header, .meta, .content-wrapper {
            margin: auto;
        }
    }
}

@media only screen and (max-width: 680px) and (min-width: 520px) {
    #site-subtitle {
        line-height: 1;
        text-indent: 0;
    }
}

@media only screen and (max-width: 680px), only screen and (max-height: 480px) {
    html {
        font-size: 100%;
        line-height: $line_height_small;
    }

    body {
        line-height: $line_height_small;
    }

    hr {
        margin: {
            top: $fsp;
            bottom: $fsp;
        }
        width: 100%;
    }

    article {
        padding-bottom: $fs3;

        &.archive .meta {
            padding-bottom: 0;
        }
    }
}

@media only screen and (max-width: 680px) {
    header {
        text-align: center;
    }

    #site-header {
        padding-bottom: $fs3;

        .hgroup {
            margin: {
                left: 0;
                right: 0;
            }
        }

        #site-subtitle {
            margin: {
                left: 0;
                right: 0;
            }
        }

        nav {
            text-align: center;
            width: auto;

            ul {
                width: auto;
            }
        }

        #section-head {
            text-align: center;
            width: auto;
            padding: {
                left: 0;
                top: $fs4;
                bottom: 0;
            }

            h3 {
                width: auto;
            }
        }
    }

    article, article.archive {
        max-width: 26.844rem;
        width: auto;
        padding: {
            left: $fsp;
            right: $fsp;
            bottom: $fsp;
        }

        header, .meta {
            text-align: center;
        }
    }

    #site-footer {
        padding-bottom: 0;
        &::before { content: none; }

        section {
            padding-bottom: $fs3-abs;
            @include flex(1 0 100%);

            &:first-of-type h2 { border-top: none; }
        }

        h2 {
            height: auto;
            padding-top: 2px;  // Just looks right
            background: linear-gradient(to right, $light_blue -50%, $dark_blue 25%, $dark_blue 75%, $light_blue 150%);
            border: {
                top: 1px solid $white;
                bottom: 1px solid $white;
            }
            margin-bottom: $fs3-abs;
        }

    }
}

@media only screen and (max-width: 520px) {
    #site-footer ul.inline li.section-title {
        width: 22.4%;
    }
}

@media only screen and (max-width: 440px) {
    #site-header {
        font-size: 80.3%;
    }

    .logotype {
        height: 1.389em;
        width: 1.389em;
        vertical-align: -38.9%;
        padding-right: 0.153rem;
    }
}

@media only screen and (max-width: 300px) {
    .logotype, br.optional {
        display: none;
    }
}
